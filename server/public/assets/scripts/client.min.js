function toRadians(a){return a*(Math.PI/180)}function toDegrees(a){return a*(180/Math.PI)}$(document).ready(function(){function a(b,c){setTimeout(function(){var b=(new Date).getTime()/1e3,c=b-(n||b);o+=c,a(c,o),n=b},0)}function b(){f.render(d,e),requestAnimFrame(b)}var c=THREE,d=new c.Scene,e=new c.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),f=new c.WebGLRenderer({alpha:!0});f.setSize(800,450);var g=document.getElementById("world");g.appendChild(f.domElement);var h=new c.BoxGeometry(1,1,1);c.ImageUtils.crossOrigin="";var i=c.ImageUtils.loadTexture("http://i.imgur.com/CEGihbB.gif");i.anisotropy=f.getMaxAnisotropy();var j=new c.MeshFaceMaterial([new c.MeshBasicMaterial({color:65280}),new c.MeshBasicMaterial({color:16711680}),new c.MeshBasicMaterial({color:255}),new c.MeshBasicMaterial({color:16776960}),new c.MeshBasicMaterial({color:65535}),new c.MeshBasicMaterial({color:16711935})]),k=new c.Mesh(h,j);k.rotation.x=Math.PI/4,k.rotation.y=Math.PI/4,d.add(k),e.position.z=5;var l=!1,m={x:0,y:0};$(f.domElement).on("mousedown",function(a){l=!0}).on("mousemove",function(a){var b={x:a.offsetX-m.x,y:a.offsetY-m.y};if(l){var d=(new c.Quaternion).setFromEuler(new c.Euler(toRadians(1*b.y),toRadians(1*b.x),0,"XYZ"));k.quaternion.multiplyQuaternions(d,k.quaternion)}m={x:a.offsetX,y:a.offsetY}}),$(document).on("mouseup",function(a){l=!1}),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();var n=(new Date).getTime()/1e3,o=0;b(),a(0,o)});